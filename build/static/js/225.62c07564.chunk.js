"use strict";(self.webpackChunkedusports_frontend=self.webpackChunkedusports_frontend||[]).push([[225],{4225:(e,s,t)=>{t.r(s),t.d(s,{default:()=>w});var a=t(5043),l=t(2907),r=t(2380),i=t(9256),c=t(1490),d=t(98),n=t(2938),x=t(2817),o=t(8775),m=t(6787),h=t(6339),u=t(3797);const g=(0,u.A)("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);var v=t(7251);const j=(0,u.A)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]);var y=t(9879),p=t(2619),b=t(2339),N=t(579);const w=()=>{const[e,s]=(0,a.useState)(""),[t,u]=(0,a.useState)(""),[w,f]=(0,a.useState)(!1),[A,k]=(0,a.useState)(!1),[C,D]=(0,a.useState)(null),{data:S,isLoading:E}=(0,l.useQuery)(["admin-news",{search:e,status:t}],(()=>y.Dh.getAllNews()),{staleTime:3e5}),L=(0,l.useQueryClient)(),I=((0,l.useMutation)((e=>y.Dh.createNews(e)),{onSuccess:()=>{L.invalidateQueries("admin-news"),b.Ay.success("News article created successfully"),f(!1)},onError:e=>{var s,t;b.Ay.error((null===(s=e.response)||void 0===s||null===(t=s.data)||void 0===t?void 0:t.message)||"Failed to create news article")}}),(0,l.useMutation)((e=>{let{id:s,data:t}=e;return y.Dh.updateNews(s,t)}),{onSuccess:()=>{L.invalidateQueries("admin-news"),b.Ay.success("News article updated successfully"),k(!1)},onError:e=>{var s,t;b.Ay.error((null===(s=e.response)||void 0===s||null===(t=s.data)||void 0===t?void 0:t.message)||"Failed to update news article")}}),(0,l.useMutation)((e=>y.Dh.deleteNews(e)),{onSuccess:()=>{L.invalidateQueries("admin-news"),b.Ay.success("News article deleted successfully")},onError:e=>{var s,t;b.Ay.error((null===(s=e.response)||void 0===s||null===(t=s.data)||void 0===t?void 0:t.message)||"Failed to delete news article")}})),P=(null===S||void 0===S?void 0:S.filter((s=>{const a=s.title.toLowerCase().includes(e.toLowerCase())||s.content.toLowerCase().includes(e.toLowerCase()),l=!t||s.status===t;return a&&l})))||[],H=e=>{switch(e){case"PUBLISHED":return"bg-green-100 text-green-800";case"DRAFT":return"bg-yellow-100 text-yellow-800";case"ARCHIVED":return"bg-gray-100 text-gray-800";default:return"bg-blue-100 text-blue-800"}};return E?(0,N.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,N.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,N.jsx)("div",{className:"w-6 h-6 border-2 border-primary-600 border-t-transparent rounded-full animate-spin"}),(0,N.jsx)("span",{children:"Loading news articles..."})]})}):(0,N.jsxs)("div",{children:[(0,N.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"News Management"}),(0,N.jsx)("p",{className:"text-gray-600",children:"Create, edit, and publish news articles and updates"})]}),(0,N.jsxs)("button",{onClick:()=>f(!0),className:"btn-primary flex items-center space-x-2",children:[(0,N.jsx)(r.A,{className:"h-4 w-4"}),(0,N.jsx)("span",{children:"Create Article"})]})]}),(0,N.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:(0,N.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,N.jsxs)("div",{className:"relative",children:[(0,N.jsx)(i.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,N.jsx)("input",{type:"text",placeholder:"Search articles...",value:e,onChange:e=>s(e.target.value),className:"pl-10 input-field"})]}),(0,N.jsx)("select",{value:t,onChange:e=>u(e.target.value),className:"input-field",children:[{value:"",label:"All Status"},{value:"PUBLISHED",label:"Published"},{value:"DRAFT",label:"Draft"},{value:"ARCHIVED",label:"Archived"}].map((e=>(0,N.jsx)("option",{value:e.value,children:e.label},e.value)))}),(0,N.jsxs)("button",{className:"btn-secondary flex items-center justify-center space-x-2",children:[(0,N.jsx)(c.A,{className:"h-4 w-4"}),(0,N.jsx)("span",{children:"Filter"})]})]})}),(0,N.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:P.map((e=>(0,N.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:[(0,N.jsxs)("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-32 flex items-center justify-center relative",children:[(0,N.jsx)(d.A,{className:"h-12 w-12 text-white"}),(0,N.jsx)("div",{className:"absolute top-3 right-3 px-2 py-1 rounded-full text-xs font-medium ".concat(H(e.status||"PUBLISHED")),children:e.status||"PUBLISHED"})]}),(0,N.jsxs)("div",{className:"p-4",children:[(0,N.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2 line-clamp-2",children:e.title}),(0,N.jsx)("p",{className:"text-gray-600 text-sm mb-3 line-clamp-3",children:e.content}),(0,N.jsxs)("div",{className:"space-y-2 text-sm text-gray-500 mb-4",children:[(0,N.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,N.jsx)(n.A,{className:"h-4 w-4"}),(0,N.jsxs)("span",{children:["Published: ",(0,p.Yq)(e.createdAt)]})]}),(0,N.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,N.jsx)(x.A,{className:"h-4 w-4"}),(0,N.jsx)("span",{children:"Author: EduSports Team"})]}),(0,N.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,N.jsx)(o.A,{className:"h-4 w-4"}),(0,N.jsx)("span",{children:"Views: 0"})]})]}),(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{className:"flex space-x-2",children:[(0,N.jsx)("button",{onClick:()=>window.open("/news/".concat(e.id),"_blank"),className:"text-blue-600 hover:text-blue-900",title:"View article",children:(0,N.jsx)(o.A,{className:"h-4 w-4"})}),(0,N.jsx)("button",{onClick:()=>(e=>{D(e),k(!0)})(e),className:"text-primary-600 hover:text-primary-900",title:"Edit article",children:(0,N.jsx)(m.A,{className:"h-4 w-4"})}),(0,N.jsx)("button",{onClick:()=>(async e=>{window.confirm("Are you sure you want to delete this news article?")&&I.mutate(e)})(e.id),className:"text-red-600 hover:text-red-900",title:"Delete article",children:(0,N.jsx)(h.A,{className:"h-4 w-4"})})]}),(0,N.jsxs)("div",{className:"text-xs text-gray-500",children:["ID: ",e.id]})]})]})]},e.id)))}),0===P.length&&(0,N.jsxs)("div",{className:"text-center py-12",children:[(0,N.jsx)(d.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),(0,N.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No news articles found"}),(0,N.jsx)("p",{className:"text-gray-600 mb-4",children:"Create your first news article to get started"}),(0,N.jsx)("button",{onClick:()=>f(!0),className:"btn-primary",children:"Create Article"})]}),(0,N.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,N.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Article Statistics"}),(0,N.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,N.jsxs)("div",{className:"text-center",children:[(0,N.jsx)("div",{className:"text-2xl font-bold text-green-600",children:(null===S||void 0===S?void 0:S.filter((e=>"PUBLISHED"===(e.status||"PUBLISHED"))).length)||0}),(0,N.jsx)("div",{className:"text-sm text-gray-500",children:"Published"})]}),(0,N.jsxs)("div",{className:"text-center",children:[(0,N.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:(null===S||void 0===S?void 0:S.filter((e=>"DRAFT"===(e.status||"PUBLISHED"))).length)||0}),(0,N.jsx)("div",{className:"text-sm text-gray-500",children:"Drafts"})]}),(0,N.jsxs)("div",{className:"text-center",children:[(0,N.jsx)("div",{className:"text-2xl font-bold text-gray-600",children:(null===S||void 0===S?void 0:S.filter((e=>"ARCHIVED"===(e.status||"PUBLISHED"))).length)||0}),(0,N.jsx)("div",{className:"text-sm text-gray-500",children:"Archived"})]}),(0,N.jsxs)("div",{className:"text-center",children:[(0,N.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(null===S||void 0===S?void 0:S.length)||0}),(0,N.jsx)("div",{className:"text-sm text-gray-500",children:"Total Articles"})]})]})]}),(0,N.jsxs)("div",{className:"mt-6 bg-white border border-gray-200 rounded-lg p-6",children:[(0,N.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),(0,N.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,N.jsxs)("button",{onClick:()=>f(!0),className:"flex items-center justify-center space-x-2 p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-primary-300 hover:bg-primary-50 transition-colors",children:[(0,N.jsx)(g,{className:"h-5 w-5 text-gray-400"}),(0,N.jsx)("span",{className:"text-gray-600",children:"Write New Article"})]}),(0,N.jsxs)("button",{className:"flex items-center justify-center space-x-2 p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-orange-300 hover:bg-orange-50 transition-colors",children:[(0,N.jsx)(v.A,{className:"h-5 w-5 text-gray-400"}),(0,N.jsx)("span",{className:"text-gray-600",children:"Upload Images"})]}),(0,N.jsxs)("button",{className:"flex items-center justify-center space-x-2 p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-green-300 hover:bg-green-50 transition-colors",children:[(0,N.jsx)(j,{className:"h-5 w-5 text-gray-400"}),(0,N.jsx)("span",{className:"text-gray-600",children:"Publish Queue"})]})]})]}),(0,N.jsxs)("div",{className:"mt-6 bg-white border border-gray-200 rounded-lg p-6",children:[(0,N.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Activity"}),(0,N.jsxs)("div",{className:"space-y-3",children:[(0,N.jsxs)("div",{className:"flex items-center space-x-3 text-sm",children:[(0,N.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,N.jsx)("span",{className:"text-gray-600",children:'Article "Tournament Results" published'}),(0,N.jsx)("span",{className:"text-gray-400",children:"2 hours ago"})]}),(0,N.jsxs)("div",{className:"flex items-center space-x-3 text-sm",children:[(0,N.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,N.jsx)("span",{className:"text-gray-600",children:'New draft "Upcoming Events" created'}),(0,N.jsx)("span",{className:"text-gray-400",children:"4 hours ago"})]}),(0,N.jsxs)("div",{className:"flex items-center space-x-3 text-sm",children:[(0,N.jsx)("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),(0,N.jsx)("span",{className:"text-gray-600",children:'Article "Season Review" updated'}),(0,N.jsx)("span",{className:"text-gray-400",children:"1 day ago"})]})]})]})]})}},6339:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(3797).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}}]);
//# sourceMappingURL=225.62c07564.chunk.js.map