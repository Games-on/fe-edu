"use strict";(self.webpackChunkedusports_frontend=self.webpackChunkedusports_frontend||[]).push([[325],{6339:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(3797).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},9325:(e,s,t)=>{t.r(s),t.d(s,{default:()=>f});var a=t(5043),n=t(2907),l=t(2938),r=t(1701),i=t(917),d=t(987),c=t(2380),o=t(9256),u=t(1490),m=t(4082),x=t(8112),h=t(8296),v=t(6787),j=t(6339),N=t(9879),p=t(2619),g=t(2339),y=t(579);const f=()=>{var e,s,t,f,b,w,C,A,T,E;const[M,k]=(0,a.useState)(""),[L,O]=(0,a.useState)(""),[D,S]=(0,a.useState)(!1),[G,I]=(0,a.useState)(!1),[P,Q]=(0,a.useState)(null),{data:U,isLoading:F}=(0,n.useQuery)(["admin-tournaments",{search:M,status:L}],(()=>N.TD.getAllTournaments({page:1,size:50})),{staleTime:3e5}),q=(0,n.useQueryClient)(),V=((0,n.useMutation)((e=>N.TD.createTournament(e)),{onSuccess:()=>{q.invalidateQueries("admin-tournaments"),g.Ay.success("Tournament created successfully"),S(!1)},onError:e=>{var s,t;g.Ay.error((null===(s=e.response)||void 0===s||null===(t=s.data)||void 0===t?void 0:t.message)||"Failed to create tournament")}}),(0,n.useMutation)((e=>{let{id:s,data:t}=e;return N.TD.updateTournament(s,t)}),{onSuccess:()=>{q.invalidateQueries("admin-tournaments"),g.Ay.success("Tournament updated successfully"),I(!1)},onError:e=>{var s,t;g.Ay.error((null===(s=e.response)||void 0===s||null===(t=s.data)||void 0===t?void 0:t.message)||"Failed to update tournament")}}),(0,n.useMutation)((e=>N.TD.deleteTournament(e)),{onSuccess:()=>{q.invalidateQueries("admin-tournaments"),g.Ay.success("Tournament deleted successfully")},onError:e=>{var s,t;g.Ay.error((null===(s=e.response)||void 0===s||null===(t=s.data)||void 0===t?void 0:t.message)||"Failed to delete tournament")}})),Y=(0,n.useMutation)((e=>N.TD.startTournament(e)),{onSuccess:()=>{q.invalidateQueries("admin-tournaments"),g.Ay.success("Tournament started successfully")},onError:e=>{var s,t;g.Ay.error((null===(s=e.response)||void 0===s||null===(t=s.data)||void 0===t?void 0:t.message)||"Failed to start tournament")}}),_=(null===U||void 0===U||null===(e=U.data)||void 0===e||null===(s=e.content)||void 0===s?void 0:s.filter((e=>{var s;const t=e.name.toLowerCase().includes(M.toLowerCase())||(null===(s=e.description)||void 0===s?void 0:s.toLowerCase().includes(M.toLowerCase())),a=!L||e.status===L;return t&&a})))||[],z=e=>{switch(e){case"UPCOMING":default:return(0,y.jsx)(l.A,{className:"h-4 w-4"});case"ONGOING":return(0,y.jsx)(r.A,{className:"h-4 w-4"});case"COMPLETED":return(0,y.jsx)(i.A,{className:"h-4 w-4"});case"CANCELLED":return(0,y.jsx)(d.A,{className:"h-4 w-4"})}};return F?(0,y.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,y.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,y.jsx)("div",{className:"w-6 h-6 border-2 border-primary-600 border-t-transparent rounded-full animate-spin"}),(0,y.jsx)("span",{children:"Loading tournaments..."})]})}):(0,y.jsxs)("div",{children:[(0,y.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Tournament Management"}),(0,y.jsx)("p",{className:"text-gray-600",children:"Create and manage tournaments, schedules, and competitions"})]}),(0,y.jsxs)("button",{onClick:()=>S(!0),className:"btn-primary flex items-center space-x-2",children:[(0,y.jsx)(c.A,{className:"h-4 w-4"}),(0,y.jsx)("span",{children:"Create Tournament"})]})]}),(0,y.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:(0,y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,y.jsxs)("div",{className:"relative",children:[(0,y.jsx)(o.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,y.jsx)("input",{type:"text",placeholder:"Search tournaments...",value:M,onChange:e=>k(e.target.value),className:"pl-10 input-field"})]}),(0,y.jsx)("select",{value:L,onChange:e=>O(e.target.value),className:"input-field",children:[{value:"",label:"All Status"},{value:"UPCOMING",label:"Upcoming"},{value:"ONGOING",label:"Ongoing"},{value:"COMPLETED",label:"Completed"},{value:"CANCELLED",label:"Cancelled"}].map((e=>(0,y.jsx)("option",{value:e.value,children:e.label},e.value)))}),(0,y.jsxs)("button",{className:"btn-secondary flex items-center justify-center space-x-2",children:[(0,y.jsx)(u.A,{className:"h-4 w-4"}),(0,y.jsx)("span",{children:"Advanced Filter"})]})]})}),(0,y.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6 mb-6",children:_.map((e=>(0,y.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:[(0,y.jsxs)("div",{className:"bg-gradient-to-r from-primary-500 to-purple-500 h-32 flex items-center justify-center relative",children:[(0,y.jsx)(m.A,{className:"h-12 w-12 text-white"}),(0,y.jsxs)("div",{className:"absolute top-3 right-3 px-2 py-1 rounded-full text-xs font-medium flex items-center space-x-1 ".concat((0,p.qY)(e.status)),children:[z(e.status),(0,y.jsx)("span",{children:e.status})]})]}),(0,y.jsxs)("div",{className:"p-4",children:[(0,y.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2 line-clamp-1",children:e.name}),(0,y.jsx)("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:e.description}),(0,y.jsxs)("div",{className:"space-y-2 text-sm text-gray-500 mb-4",children:[(0,y.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,y.jsx)(l.A,{className:"h-4 w-4"}),(0,y.jsxs)("span",{children:["Start: ",(0,p.Yq)(e.startDate)]})]}),(0,y.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,y.jsx)(x.A,{className:"h-4 w-4"}),(0,y.jsxs)("span",{children:["Max ",e.maxTeams," teams"]})]}),e.location&&(0,y.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,y.jsx)(h.A,{className:"h-4 w-4"}),(0,y.jsx)("span",{className:"line-clamp-1",children:e.location})]})]}),(0,y.jsxs)("div",{className:"flex items-center justify-between",children:[(0,y.jsxs)("div",{className:"flex space-x-2",children:[(0,y.jsx)("button",{onClick:()=>(e=>{Q(e),I(!0)})(e),className:"text-primary-600 hover:text-primary-900",title:"Edit tournament",children:(0,y.jsx)(v.A,{className:"h-4 w-4"})}),"UPCOMING"===e.status&&(0,y.jsx)("button",{onClick:()=>{return s=e.id,void(window.confirm("Are you sure you want to start this tournament?")&&Y.mutate(s));var s},className:"text-green-600 hover:text-green-900",title:"Start tournament",children:(0,y.jsx)(r.A,{className:"h-4 w-4"})}),(0,y.jsx)("button",{onClick:()=>(async e=>{window.confirm("Are you sure you want to delete this tournament? This action cannot be undone.")&&V.mutate(e)})(e.id),className:"text-red-600 hover:text-red-900",title:"Delete tournament",children:(0,y.jsx)(j.A,{className:"h-4 w-4"})})]}),(0,y.jsxs)("div",{className:"text-xs text-gray-500",children:["ID: ",e.id]})]})]})]},e.id)))}),0===_.length&&(0,y.jsxs)("div",{className:"text-center py-12",children:[(0,y.jsx)(m.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),(0,y.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tournaments found"}),(0,y.jsx)("p",{className:"text-gray-600 mb-4",children:"Get started by creating your first tournament"}),(0,y.jsx)("button",{onClick:()=>S(!0),className:"btn-primary",children:"Create Tournament"})]}),(0,y.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,y.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Tournament Statistics"}),(0,y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,y.jsxs)("div",{className:"text-center",children:[(0,y.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(null===U||void 0===U||null===(t=U.data)||void 0===t||null===(f=t.content)||void 0===f?void 0:f.filter((e=>"UPCOMING"===e.status)).length)||0}),(0,y.jsx)("div",{className:"text-sm text-gray-500",children:"Upcoming"})]}),(0,y.jsxs)("div",{className:"text-center",children:[(0,y.jsx)("div",{className:"text-2xl font-bold text-green-600",children:(null===U||void 0===U||null===(b=U.data)||void 0===b||null===(w=b.content)||void 0===w?void 0:w.filter((e=>"ONGOING"===e.status)).length)||0}),(0,y.jsx)("div",{className:"text-sm text-gray-500",children:"Ongoing"})]}),(0,y.jsxs)("div",{className:"text-center",children:[(0,y.jsx)("div",{className:"text-2xl font-bold text-gray-600",children:(null===U||void 0===U||null===(C=U.data)||void 0===C||null===(A=C.content)||void 0===A?void 0:A.filter((e=>"COMPLETED"===e.status)).length)||0}),(0,y.jsx)("div",{className:"text-sm text-gray-500",children:"Completed"})]}),(0,y.jsxs)("div",{className:"text-center",children:[(0,y.jsx)("div",{className:"text-2xl font-bold text-red-600",children:(null===U||void 0===U||null===(T=U.data)||void 0===T||null===(E=T.content)||void 0===E?void 0:E.filter((e=>"CANCELLED"===e.status)).length)||0}),(0,y.jsx)("div",{className:"text-sm text-gray-500",children:"Cancelled"})]})]})]})]})}}}]);
//# sourceMappingURL=325.91368d83.chunk.js.map