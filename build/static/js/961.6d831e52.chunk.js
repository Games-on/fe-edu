"use strict";(self.webpackChunkedusports_frontend=self.webpackChunkedusports_frontend||[]).push([[961],{5961:(e,s,t)=>{t.r(s),t.d(s,{default:()=>N});var a=t(8),r=t(5043),l=t(2907),n=t(2380),i=t(9256),c=t(1490),d=t(9589),u=t(2938),x=t(6787),o=t(3797);const m=(0,o.A)("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),h=(0,o.A)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);var p=t(6339),y=t(8112),g=t(2619),j=t(2339),v=t(579);const N=()=>{const[e,s]=(0,r.useState)(""),[t,o]=(0,r.useState)(""),[N,f]=(0,r.useState)(""),[w,A]=(0,r.useState)(!1),[b,C]=(0,r.useState)(!1),[T,k]=(0,r.useState)(null),{data:I,isLoading:E}=(0,l.useQuery)(["users",{search:e,role:t,status:N}],(async()=>(await new Promise((e=>setTimeout(e,1e3))),[{id:1,name:"Admin User",email:"admin@gmail.com",role:"ADMIN",status:"ACTIVE",createdAt:"2024-01-15T10:00:00Z",lastLogin:"2024-05-24T08:30:00Z",teamsCount:0,tournamentsCreated:15},{id:2,name:"John Organizer",email:"organizer@gmail.com",role:"ORGANIZER",status:"ACTIVE",createdAt:"2024-02-10T14:20:00Z",lastLogin:"2024-05-23T16:45:00Z",teamsCount:0,tournamentsCreated:8},{id:3,name:"Team Captain",email:"user@gmail.com",role:"USER",status:"ACTIVE",createdAt:"2024-03-05T09:15:00Z",lastLogin:"2024-05-24T07:20:00Z",teamsCount:2,tournamentsCreated:0},{id:4,name:"Inactive User",email:"inactive@gmail.com",role:"USER",status:"INACTIVE",createdAt:"2024-01-20T11:30:00Z",lastLogin:"2024-04-15T12:00:00Z",teamsCount:1,tournamentsCreated:0}])),{staleTime:3e5}),S=(0,l.useQueryClient)(),U=((0,l.useMutation)((async e=>{let{userId:s,userData:t}=e;return await new Promise((e=>setTimeout(e,1e3))),(0,a.A)((0,a.A)({},t),{},{id:s})}),{onSuccess:()=>{S.invalidateQueries("users"),j.Ay.success("User updated successfully"),C(!1)},onError:()=>{j.Ay.error("Failed to update user")}}),(0,l.useMutation)((async e=>(await new Promise((e=>setTimeout(e,1e3))),e)),{onSuccess:()=>{S.invalidateQueries("users"),j.Ay.success("User deleted successfully")},onError:()=>{j.Ay.error("Failed to delete user")}})),V=(0,l.useMutation)((async e=>{let{userId:s,newStatus:t}=e;return await new Promise((e=>setTimeout(e,500))),{userId:s,newStatus:t}}),{onSuccess:e=>{S.invalidateQueries("users"),j.Ay.success("User ".concat(e.newStatus.toLowerCase()," successfully"))},onError:()=>{j.Ay.error("Failed to update user status")}}),M=(null===I||void 0===I?void 0:I.filter((s=>{const a=s.name.toLowerCase().includes(e.toLowerCase())||s.email.toLowerCase().includes(e.toLowerCase()),r=!t||s.role===t,l=!N||s.status===N;return a&&r&&l})))||[],R=e=>{switch(e){case"ADMIN":return"bg-red-100 text-red-800";case"ORGANIZER":return"bg-blue-100 text-blue-800";case"USER":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return E?(0,v.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,v.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,v.jsx)("div",{className:"w-6 h-6 border-2 border-primary-600 border-t-transparent rounded-full animate-spin"}),(0,v.jsx)("span",{children:"Loading users..."})]})}):(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),(0,v.jsx)("p",{className:"text-gray-600",children:"Manage system users, roles, and permissions"})]}),(0,v.jsxs)("button",{onClick:()=>A(!0),className:"btn-primary flex items-center space-x-2",children:[(0,v.jsx)(n.A,{className:"h-4 w-4"}),(0,v.jsx)("span",{children:"Add User"})]})]}),(0,v.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:(0,v.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,v.jsxs)("div",{className:"relative",children:[(0,v.jsx)(i.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,v.jsx)("input",{type:"text",placeholder:"Search users...",value:e,onChange:e=>s(e.target.value),className:"pl-10 input-field"})]}),(0,v.jsx)("select",{value:t,onChange:e=>o(e.target.value),className:"input-field",children:[{value:"",label:"All Roles"},{value:"ADMIN",label:"Admin"},{value:"ORGANIZER",label:"Organizer"},{value:"USER",label:"User"}].map((e=>(0,v.jsx)("option",{value:e.value,children:e.label},e.value)))}),(0,v.jsx)("select",{value:N,onChange:e=>f(e.target.value),className:"input-field",children:[{value:"",label:"All Status"},{value:"ACTIVE",label:"Active"},{value:"INACTIVE",label:"Inactive"},{value:"SUSPENDED",label:"Suspended"}].map((e=>(0,v.jsx)("option",{value:e.value,children:e.label},e.value)))}),(0,v.jsxs)("button",{className:"btn-secondary flex items-center justify-center space-x-2",children:[(0,v.jsx)(c.A,{className:"h-4 w-4"}),(0,v.jsx)("span",{children:"Filter"})]})]})}),(0,v.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[(0,v.jsx)("div",{className:"overflow-x-auto",children:(0,v.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,v.jsx)("thead",{className:"bg-gray-50",children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),(0,v.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),(0,v.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,v.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Activity"}),(0,v.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),(0,v.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,v.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:M.map((e=>(0,v.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,v.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,v.jsxs)("div",{className:"flex items-center",children:[(0,v.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-primary-500 to-purple-500 rounded-full flex items-center justify-center",children:(0,v.jsx)("span",{className:"text-white font-medium text-sm",children:e.name.charAt(0).toUpperCase()})}),(0,v.jsxs)("div",{className:"ml-3",children:[(0,v.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,v.jsxs)("div",{className:"text-sm text-gray-500 flex items-center",children:[(0,v.jsx)(d.A,{className:"h-3 w-3 mr-1"}),e.email]})]})]})}),(0,v.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,v.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(R(e.role)),children:e.role})}),(0,v.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,v.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("ACTIVE"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.status})}),(0,v.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{children:["Teams: ",e.teamsCount]}),(0,v.jsxs)("div",{children:["Tournaments: ",e.tournamentsCreated]})]})}),(0,v.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,v.jsxs)("div",{className:"flex items-center",children:[(0,v.jsx)(u.A,{className:"h-4 w-4 mr-1"}),(0,g.Yq)(e.createdAt)]})}),(0,v.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,v.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,v.jsx)("button",{onClick:()=>(e=>{k(e),C(!0)})(e),className:"text-primary-600 hover:text-primary-900",title:"Edit user",children:(0,v.jsx)(x.A,{className:"h-4 w-4"})}),(0,v.jsx)("button",{onClick:()=>((e,s)=>{const t="ACTIVE"===s?"INACTIVE":"ACTIVE";V.mutate({userId:e,newStatus:t})})(e.id,e.status),className:"".concat("ACTIVE"===e.status?"text-red-600 hover:text-red-900":"text-green-600 hover:text-green-900"),title:"ACTIVE"===e.status?"Deactivate user":"Activate user",children:"ACTIVE"===e.status?(0,v.jsx)(m,{className:"h-4 w-4"}):(0,v.jsx)(h,{className:"h-4 w-4"})}),(0,v.jsx)("button",{onClick:()=>(async e=>{window.confirm("Are you sure you want to delete this user?")&&U.mutate(e)})(e.id),className:"text-red-600 hover:text-red-900",title:"Delete user",children:(0,v.jsx)(p.A,{className:"h-4 w-4"})})]})})]},e.id)))})]})}),0===M.length&&(0,v.jsxs)("div",{className:"text-center py-12",children:[(0,v.jsx)(y.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),(0,v.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No users found"}),(0,v.jsx)("p",{className:"text-gray-600",children:"Try adjusting your search criteria"})]})]}),(0,v.jsxs)("div",{className:"mt-6 flex items-center justify-between",children:[(0,v.jsxs)("div",{className:"text-sm text-gray-700",children:["Showing ",M.length," of ",(null===I||void 0===I?void 0:I.length)||0," users"]}),(0,v.jsxs)("div",{className:"flex space-x-2",children:[(0,v.jsx)("button",{className:"btn-secondary",children:"Previous"}),(0,v.jsx)("button",{className:"btn-secondary",children:"Next"})]})]})]})}},6339:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(3797).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}}]);
//# sourceMappingURL=961.6d831e52.chunk.js.map