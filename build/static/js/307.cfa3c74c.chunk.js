"use strict";(self.webpackChunkedusports_frontend=self.webpackChunkedusports_frontend||[]).push([[307],{9307:(e,s,t)=>{t.r(s),t.d(s,{default:()=>b});var a=t(5043),l=t(2907),r=t(3458),n=t(1701),i=t(917),c=t(987);const d=(0,t(3797).A)("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);var m=t(2938),u=t(2380),o=t(9256),x=t(1490),h=t(4082),v=t(6787),j=t(9879),N=t(2619),g=t(2339),p=t(579);const b=()=>{const[e,s]=(0,a.useState)(""),[t,b]=(0,a.useState)(""),[f,y]=(0,a.useState)(""),[S,C]=(0,a.useState)(!1),[w,E]=(0,a.useState)(!1),[T,L]=(0,a.useState)(null),{data:A,isLoading:D}=(0,l.useQuery)(["admin-matches",{search:e,status:t,tournament:f}],(async()=>(await new Promise((e=>setTimeout(e,1e3))),[{id:1,tournament:{id:1,name:"Spring Championship 2024"},team1:{id:1,name:"Eagles FC",logo:null},team2:{id:2,name:"Tigers United",logo:null},team1Score:2,team2Score:1,status:"COMPLETED",scheduledTime:"2024-05-20T15:00:00Z",actualStartTime:"2024-05-20T15:05:00Z",actualEndTime:"2024-05-20T16:45:00Z",venue:"Stadium A",round:"Semi-final",referee:"John Smith"},{id:2,tournament:{id:1,name:"Spring Championship 2024"},team1:{id:3,name:"Lions FC",logo:null},team2:{id:4,name:"Panthers SC",logo:null},team1Score:null,team2Score:null,status:"SCHEDULED",scheduledTime:"2024-05-25T14:00:00Z",actualStartTime:null,actualEndTime:null,venue:"Stadium B",round:"Final",referee:"Jane Doe"},{id:3,tournament:{id:2,name:"Summer League 2024"},team1:{id:5,name:"Wolves FC",logo:null},team2:{id:6,name:"Bears United",logo:null},team1Score:1,team2Score:1,status:"ONGOING",scheduledTime:"2024-05-24T16:00:00Z",actualStartTime:"2024-05-24T16:00:00Z",actualEndTime:null,venue:"Stadium C",round:"Quarter-final",referee:"Mike Johnson"}])),{staleTime:3e5}),O=(0,l.useQueryClient)(),M=((0,l.useMutation)((e=>{let{matchId:s,scoreData:t}=e;return j.pK.updateMatchScore(s,t)}),{onSuccess:()=>{O.invalidateQueries("admin-matches"),g.Ay.success("Match score updated successfully")},onError:e=>{var s,t;g.Ay.error((null===(s=e.response)||void 0===s||null===(t=s.data)||void 0===t?void 0:t.message)||"Failed to update match score")}}),(0,l.useMutation)((e=>{let{matchId:s,statusData:t}=e;return j.pK.updateMatchStatus(s,t)}),{onSuccess:()=>{O.invalidateQueries("admin-matches"),g.Ay.success("Match status updated successfully")},onError:e=>{var s,t;g.Ay.error((null===(s=e.response)||void 0===s||null===(t=s.data)||void 0===t?void 0:t.message)||"Failed to update match status")}})),P=(null===A||void 0===A?void 0:A.filter((s=>{const a=s.team1.name.toLowerCase().includes(e.toLowerCase())||s.team2.name.toLowerCase().includes(e.toLowerCase())||s.tournament.name.toLowerCase().includes(e.toLowerCase()),l=!t||s.status===t,r=!f||s.tournament.id.toString()===f;return a&&l&&r})))||[],k=(e,s)=>{M.mutate({matchId:e,statusData:{status:s}})},G=e=>{switch(e){case"SCHEDULED":return(0,p.jsx)(r.A,{className:"h-4 w-4"});case"ONGOING":return(0,p.jsx)(n.A,{className:"h-4 w-4"});case"COMPLETED":return(0,p.jsx)(i.A,{className:"h-4 w-4"});case"CANCELLED":return(0,p.jsx)(c.A,{className:"h-4 w-4"});case"POSTPONED":return(0,p.jsx)(d,{className:"h-4 w-4"});default:return(0,p.jsx)(m.A,{className:"h-4 w-4"})}};return D?(0,p.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)("div",{className:"w-6 h-6 border-2 border-primary-600 border-t-transparent rounded-full animate-spin"}),(0,p.jsx)("span",{children:"Loading matches..."})]})}):(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Match Management"}),(0,p.jsx)("p",{className:"text-gray-600",children:"Schedule, manage, and track match results"})]}),(0,p.jsxs)("button",{onClick:()=>C(!0),className:"btn-primary flex items-center space-x-2",children:[(0,p.jsx)(u.A,{className:"h-4 w-4"}),(0,p.jsx)("span",{children:"Schedule Match"})]})]}),(0,p.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,p.jsxs)("div",{className:"relative",children:[(0,p.jsx)(o.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,p.jsx)("input",{type:"text",placeholder:"Search matches...",value:e,onChange:e=>s(e.target.value),className:"pl-10 input-field"})]}),(0,p.jsx)("select",{value:t,onChange:e=>b(e.target.value),className:"input-field",children:[{value:"",label:"All Status"},{value:"SCHEDULED",label:"Scheduled"},{value:"ONGOING",label:"Ongoing"},{value:"COMPLETED",label:"Completed"},{value:"CANCELLED",label:"Cancelled"},{value:"POSTPONED",label:"Postponed"}].map((e=>(0,p.jsx)("option",{value:e.value,children:e.label},e.value)))}),(0,p.jsx)("select",{value:f,onChange:e=>y(e.target.value),className:"input-field",children:[{value:"",label:"All Tournaments"},{value:"1",label:"Spring Championship 2024"},{value:"2",label:"Summer League 2024"}].map((e=>(0,p.jsx)("option",{value:e.value,children:e.label},e.value)))}),(0,p.jsxs)("button",{className:"btn-secondary flex items-center justify-center space-x-2",children:[(0,p.jsx)(x.A,{className:"h-4 w-4"}),(0,p.jsx)("span",{children:"Filter"})]})]})}),(0,p.jsx)("div",{className:"space-y-4 mb-6",children:P.map((e=>(0,p.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,p.jsxs)("div",{className:"p-2 rounded-lg ".concat((0,N.qY)(e.status)," flex items-center space-x-1"),children:[G(e.status),(0,p.jsx)("span",{className:"text-sm font-medium",children:e.status})]}),(0,p.jsxs)("div",{className:"text-sm text-gray-500",children:[e.tournament.name," - ",e.round]})]}),(0,p.jsxs)("div",{className:"text-sm text-gray-500",children:["Match ID: ",e.id]})]}),(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("div",{className:"bg-primary-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-2",children:(0,p.jsx)(h.A,{className:"h-8 w-8 text-primary-600"})}),(0,p.jsx)("h3",{className:"font-semibold text-gray-900",children:e.team1.name}),(0,p.jsx)("div",{className:"text-3xl font-bold text-primary-600 mt-2",children:null!==e.team1Score?e.team1Score:"-"})]}),(0,p.jsxs)("div",{className:"text-center space-y-2",children:[(0,p.jsx)("div",{className:"text-2xl font-bold text-gray-400",children:"VS"}),(0,p.jsx)("div",{className:"text-sm text-gray-600",children:(0,p.jsxs)("div",{className:"flex items-center justify-center space-x-1",children:[(0,p.jsx)(m.A,{className:"h-4 w-4"}),(0,p.jsx)("span",{children:(0,N.r6)(e.scheduledTime)})]})}),(0,p.jsx)("div",{className:"text-sm text-gray-600",children:e.venue}),(0,p.jsxs)("div",{className:"text-sm text-gray-500",children:["Referee: ",e.referee]})]}),(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("div",{className:"bg-orange-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-2",children:(0,p.jsx)(h.A,{className:"h-8 w-8 text-orange-600"})}),(0,p.jsx)("h3",{className:"font-semibold text-gray-900",children:e.team2.name}),(0,p.jsx)("div",{className:"text-3xl font-bold text-orange-600 mt-2",children:null!==e.team2Score?e.team2Score:"-"})]})]}),(0,p.jsxs)("div",{className:"mt-6 pt-4 border-t border-gray-200 flex items-center justify-between",children:[(0,p.jsxs)("div",{className:"flex space-x-2",children:[(0,p.jsxs)("button",{onClick:()=>(e=>{L(e),E(!0)})(e),className:"btn-secondary text-sm",children:[(0,p.jsx)(v.A,{className:"h-4 w-4 mr-1"}),"Edit"]}),"SCHEDULED"===e.status&&(0,p.jsxs)("button",{onClick:()=>k(e.id,"ONGOING"),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm",children:[(0,p.jsx)(n.A,{className:"h-4 w-4 mr-1"}),"Start"]}),"ONGOING"===e.status&&(0,p.jsxs)("button",{onClick:()=>k(e.id,"COMPLETED"),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm",children:[(0,p.jsx)(i.A,{className:"h-4 w-4 mr-1"}),"Complete"]})]}),(0,p.jsxs)("div",{className:"text-sm text-gray-500",children:[e.actualStartTime&&(0,p.jsxs)("span",{children:["Started: ",(0,N.r6)(e.actualStartTime)]}),e.actualEndTime&&(0,p.jsxs)("span",{children:["Ended: ",(0,N.r6)(e.actualEndTime)]})]})]})]},e.id)))}),0===P.length&&(0,p.jsxs)("div",{className:"text-center py-12",children:[(0,p.jsx)(m.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),(0,p.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No matches found"}),(0,p.jsx)("p",{className:"text-gray-600 mb-4",children:"Schedule your first match to get started"}),(0,p.jsx)("button",{onClick:()=>C(!0),className:"btn-primary",children:"Schedule Match"})]}),(0,p.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,p.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Match Statistics"}),(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(null===A||void 0===A?void 0:A.filter((e=>"SCHEDULED"===e.status)).length)||0}),(0,p.jsx)("div",{className:"text-sm text-gray-500",children:"Scheduled"})]}),(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("div",{className:"text-2xl font-bold text-green-600",children:(null===A||void 0===A?void 0:A.filter((e=>"ONGOING"===e.status)).length)||0}),(0,p.jsx)("div",{className:"text-sm text-gray-500",children:"Ongoing"})]}),(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("div",{className:"text-2xl font-bold text-gray-600",children:(null===A||void 0===A?void 0:A.filter((e=>"COMPLETED"===e.status)).length)||0}),(0,p.jsx)("div",{className:"text-sm text-gray-500",children:"Completed"})]}),(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:(null===A||void 0===A?void 0:A.filter((e=>"POSTPONED"===e.status)).length)||0}),(0,p.jsx)("div",{className:"text-sm text-gray-500",children:"Postponed"})]}),(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("div",{className:"text-2xl font-bold text-red-600",children:(null===A||void 0===A?void 0:A.filter((e=>"CANCELLED"===e.status)).length)||0}),(0,p.jsx)("div",{className:"text-sm text-gray-500",children:"Cancelled"})]})]})]})]})}}}]);
//# sourceMappingURL=307.cfa3c74c.chunk.js.map