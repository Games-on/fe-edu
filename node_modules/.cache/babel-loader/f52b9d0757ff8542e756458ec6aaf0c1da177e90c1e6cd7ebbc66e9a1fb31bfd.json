{"ast":null,"code":"var _jsxFileName = \"/Users/lucas/Desktop/an/fe-edu/src/pages/NewsPage.js\",\n  _s = $RefreshSig$();\n// src/pages/NewsPage.js\nimport React, { useState } from 'react';\nimport { useQuery, useQueryClient } from 'react-query';\nimport { Link } from 'react-router-dom';\nimport { Search, Calendar, User, Eye, ArrowRight, Plus, Shield } from 'lucide-react';\nimport { newsService } from '../services'; // Đảm bảo đúng đường dẫn\nimport { useAuth } from '../context/AuthContext';\nimport LoadingSpinner from '../components/LoadingSpinner';\nimport { formatDate, truncateText } from '../utils/helpers';\nimport toast from 'react-hot-toast';\n\n// Import modal đã tạo\nimport CreateNewsModal from '../components/admin/CreateNewsModal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NewsPage = () => {\n  _s();\n  const [searchTerm, setSearchTerm] = useState('');\n  const {\n    user\n  } = useAuth();\n  const [showCreateNewsModal, setShowCreateNewsModal] = useState(false);\n  const queryClient = useQueryClient();\n  const isAdmin = (user === null || user === void 0 ? void 0 : user.role) === 'ADMIN';\n  const {\n    data: newsResponse,\n    // <-- Biến này sẽ nhận TOÀN BỘ OBJECT AXIOS RESPONSE\n    isLoading,\n    error\n  } = useQuery(['news'],\n  // Key không cần searchTerm ở đây, lọc sẽ làm sau\n  async () => {\n    console.log(\"DEBUG FETCH: Fetching news for public page.\");\n    const response = await newsService.getAllNews(); // Nhận toàn bộ Axios response\n    console.log(\"DEBUG: newsResponse from service (Public NewsPage):\", response);\n    // Dựa trên ảnh chụp màn hình, API trả về mảng trực tiếp trong response.data\n    if (response && Array.isArray(response.data)) {\n      return response.data; // Trả về MẢNG TIN TỨC TRỰC TIẾP\n    } else {\n      console.error(\"Unexpected API response structure for public NewsPage:\", response);\n      return []; // Trả về mảng rỗng để tránh lỗi\n    }\n  }, {\n    staleTime: 5 * 60 * 1000,\n    onSuccess: data => {\n      console.log(\"Processed news data (in NewsPage):\", data);\n    },\n    onError: err => {\n      toast.error(`Error fetching news: ${err.message}`);\n      console.error(\"Error fetching news in NewsPage:\", err);\n    }\n  });\n\n  // Áp dụng lọc trên dữ liệu đã nhận được\n  const filteredNews = (newsResponse === null || newsResponse === void 0 ? void 0 : newsResponse.filter(article => article.name && article.name.toLowerCase().includes(searchTerm.toLowerCase()) || article.content && article.content.toLowerCase().includes(searchTerm.toLowerCase()) || article.shortDescription && article.shortDescription.toLowerCase().includes(searchTerm.toLowerCase()))) || [];\n  const handleSearch = e => {\n    e.preventDefault();\n    // Việc lọc sẽ diễn ra trên biến filteredNews, không cần refetch query\n  };\n  const handleNewsCreated = () => {\n    queryClient.invalidateQueries('news'); // Vô hiệu hóa cache public news\n    queryClient.invalidateQueries('admin-news'); // Vô hiệu hóa cache admin news (nếu có liên quan)\n  };\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto px-4 py-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center text-red-600\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Error loading news. Please try again later.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Details: \", error.message]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this);\n  }\n  const featuredNews = filteredNews === null || filteredNews === void 0 ? void 0 : filteredNews[0];\n  const otherNews = (filteredNews === null || filteredNews === void 0 ? void 0 : filteredNews.slice(1)) || [];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow-sm\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center flex-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-4xl font-bold text-gray-900 mb-4\",\n              children: \"Sports News\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xl text-gray-600 max-w-2xl mx-auto\",\n              children: \"Stay updated with the latest sports news, tournament updates, and community highlights\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this), isAdmin && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2 text-sm text-primary-600\",\n              children: [/*#__PURE__*/_jsxDEV(Shield, {\n                className: \"h-4 w-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Admin Access\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowCreateNewsModal(true),\n              className: \"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700\",\n              children: [/*#__PURE__*/_jsxDEV(Plus, {\n                className: \"h-4 w-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 19\n              }, this), \"Create News\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-sm p-6 mb-8\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSearch,\n          className: \"flex gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(Search, {\n                className: \"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"Search news articles...\",\n                value: searchTerm,\n                onChange: e => setSearchTerm(e.target.value),\n                className: \"pl-10 input-field\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn-primary\",\n            children: \"Search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), isLoading ? /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 11\n      }, this) : (filteredNews === null || filteredNews === void 0 ? void 0 : filteredNews.length) === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-12\",\n        children: [/*#__PURE__*/_jsxDEV(Calendar, {\n          className: \"h-16 w-16 text-gray-400 mx-auto mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-medium text-gray-900 mb-2\",\n          children: \"No news articles found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Check back later for the latest sports updates\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-8\",\n        children: [featuredNews && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-xl shadow-sm overflow-hidden\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"md:flex\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"md:flex-shrink-0\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"h-48 w-full md:w-64 bg-gradient-to-r from-primary-500 to-sports-purple flex items-center justify-center\",\n                children: featuredNews.attachments && featuredNews.attachments.length > 0 ? /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: newsService.getImageUrl(featuredNews.attachments[0].url),\n                  alt: featuredNews.name,\n                  className: \"w-full h-full object-cover\",\n                  onError: e => {\n                    e.target.onerror = null;\n                    e.target.src = 'https://via.placeholder.com/400x200?text=No+Image';\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 26\n                }, this) : /*#__PURE__*/_jsxDEV(Calendar, {\n                  className: \"h-16 w-16 text-white\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 26\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-8 flex-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center text-sm text-gray-500 mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"bg-primary-100 text-primary-800 px-2 py-1 rounded-full text-xs font-medium mr-3\",\n                  children: \"Featured\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Calendar, {\n                  className: \"h-4 w-4 mr-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: formatDate(featuredNews.createdAt)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(User, {\n                  className: \"h-4 w-4 ml-4 mr-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 172,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"EduSports Team\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-2xl font-bold text-gray-900 mb-3\",\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: `/news/${featuredNews.id}`,\n                  className: \"hover:text-primary-600 transition-colors\",\n                  children: featuredNews.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600 mb-4 text-lg leading-relaxed\",\n                children: truncateText(featuredNews.content, 200)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: `/news/${featuredNews.id}`,\n                className: \"inline-flex items-center text-primary-600 hover:text-primary-700 font-medium\",\n                children: [\"Read full article\", /*#__PURE__*/_jsxDEV(ArrowRight, {\n                  className: \"h-4 w-4 ml-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 15\n        }, this), otherNews.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold text-gray-900 mb-6\",\n            children: \"More Articles\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",\n            children: otherNews.map(article => /*#__PURE__*/_jsxDEV(\"article\", {\n              className: \"card hover:shadow-lg transition-shadow duration-300\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gradient-to-r from-sports-green to-sports-pink h-40 rounded-lg mb-4 flex items-center justify-center\",\n                children: article.attachments && article.attachments.length > 0 ? /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: newsService.getImageUrl(article.attachments[0].url),\n                  alt: article.name,\n                  className: \"w-full h-full object-cover rounded-lg\",\n                  onError: e => {\n                    e.target.onerror = null;\n                    e.target.src = 'https://via.placeholder.com/400x200?text=No+Image';\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 28\n                }, this) : /*#__PURE__*/_jsxDEV(Calendar, {\n                  className: \"h-12 w-12 text-white\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 28\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center text-sm text-gray-500 mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(Calendar, {\n                  className: \"h-4 w-4 mr-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: formatDate(article.createdAt)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(User, {\n                  className: \"h-4 w-4 ml-4 mr-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"EduSports Team\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-semibold text-gray-900 mb-2 line-clamp-2\",\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: `/news/${article.id}`,\n                  className: \"hover:text-primary-600 transition-colors\",\n                  children: article.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600 mb-4 line-clamp-3\",\n                children: truncateText(article.content, 120)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(Link, {\n                  to: `/news/${article.id}`,\n                  className: \"text-primary-600 hover:text-primary-700 font-medium text-sm inline-flex items-center\",\n                  children: [\"Read more\", /*#__PURE__*/_jsxDEV(ArrowRight, {\n                    className: \"h-3 w-3 ml-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 244,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center text-sm text-gray-500\",\n                  children: [/*#__PURE__*/_jsxDEV(Eye, {\n                    className: \"h-4 w-4 mr-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 247,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"0 views\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 248,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 23\n              }, this)]\n            }, article.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 11\n      }, this), filteredNews && filteredNews.length >= 10 &&\n      /*#__PURE__*/\n      // Có thể cần logic phức tạp hơn cho \"Load More\" nếu bạn không phân trang\n      _jsxDEV(\"div\", {\n        className: \"text-center mt-12\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-secondary\",\n          children: \"Load More Articles\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CreateNewsModal, {\n      show: showCreateNewsModal,\n      onClose: () => setShowCreateNewsModal(false),\n      onNewsCreated: handleNewsCreated\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 5\n  }, this);\n};\n_s(NewsPage, \"BugkXUj3rq5YQ6mo8f6LovepRKQ=\", false, function () {\n  return [useAuth, useQueryClient, useQuery];\n});\n_c = NewsPage;\nexport default NewsPage;\nvar _c;\n$RefreshReg$(_c, \"NewsPage\");","map":{"version":3,"names":["React","useState","useQuery","useQueryClient","Link","Search","Calendar","User","Eye","ArrowRight","Plus","Shield","newsService","useAuth","LoadingSpinner","formatDate","truncateText","toast","CreateNewsModal","jsxDEV","_jsxDEV","NewsPage","_s","searchTerm","setSearchTerm","user","showCreateNewsModal","setShowCreateNewsModal","queryClient","isAdmin","role","data","newsResponse","isLoading","error","console","log","response","getAllNews","Array","isArray","staleTime","onSuccess","onError","err","message","filteredNews","filter","article","name","toLowerCase","includes","content","shortDescription","handleSearch","e","preventDefault","handleNewsCreated","invalidateQueries","className","children","fileName","_jsxFileName","lineNumber","columnNumber","featuredNews","otherNews","slice","onClick","onSubmit","type","placeholder","value","onChange","target","length","attachments","src","getImageUrl","url","alt","onerror","createdAt","to","id","map","show","onClose","onNewsCreated","_c","$RefreshReg$"],"sources":["/Users/lucas/Desktop/an/fe-edu/src/pages/NewsPage.js"],"sourcesContent":["// src/pages/NewsPage.js\nimport React, { useState } from 'react';\nimport { useQuery, useQueryClient } from 'react-query';\nimport { Link } from 'react-router-dom';\nimport { Search, Calendar, User, Eye, ArrowRight, Plus, Shield } from 'lucide-react';\nimport { newsService } from '../services'; // Đảm bảo đúng đường dẫn\nimport { useAuth } from '../context/AuthContext';\nimport LoadingSpinner from '../components/LoadingSpinner';\nimport { formatDate, truncateText } from '../utils/helpers';\nimport toast from 'react-hot-toast';\n\n// Import modal đã tạo\nimport CreateNewsModal from '../components/admin/CreateNewsModal';\n\nconst NewsPage = () => {\n  const [searchTerm, setSearchTerm] = useState('');\n  const { user } = useAuth();\n  const [showCreateNewsModal, setShowCreateNewsModal] = useState(false);\n  const queryClient = useQueryClient();\n\n  const isAdmin = user?.role === 'ADMIN';\n\n  const {\n    data: newsResponse, // <-- Biến này sẽ nhận TOÀN BỘ OBJECT AXIOS RESPONSE\n    isLoading,\n    error\n  } = useQuery(\n    ['news'], // Key không cần searchTerm ở đây, lọc sẽ làm sau\n    async () => {\n      console.log(\"DEBUG FETCH: Fetching news for public page.\");\n      const response = await newsService.getAllNews(); // Nhận toàn bộ Axios response\n      console.log(\"DEBUG: newsResponse from service (Public NewsPage):\", response);\n      // Dựa trên ảnh chụp màn hình, API trả về mảng trực tiếp trong response.data\n      if (response && Array.isArray(response.data)) {\n          return response.data; // Trả về MẢNG TIN TỨC TRỰC TIẾP\n      } else {\n          console.error(\"Unexpected API response structure for public NewsPage:\", response);\n          return []; // Trả về mảng rỗng để tránh lỗi\n      }\n    },\n    {\n      staleTime: 5 * 60 * 1000,\n      onSuccess: (data) => {\n        console.log(\"Processed news data (in NewsPage):\", data);\n      },\n      onError: (err) => {\n        toast.error(`Error fetching news: ${err.message}`);\n        console.error(\"Error fetching news in NewsPage:\", err);\n      }\n    }\n  );\n\n  // Áp dụng lọc trên dữ liệu đã nhận được\n  const filteredNews = newsResponse?.filter(article =>\n    (article.name && article.name.toLowerCase().includes(searchTerm.toLowerCase())) ||\n    (article.content && article.content.toLowerCase().includes(searchTerm.toLowerCase())) ||\n    (article.shortDescription && article.shortDescription.toLowerCase().includes(searchTerm.toLowerCase()))\n  ) || [];\n\n  const handleSearch = (e) => {\n    e.preventDefault();\n    // Việc lọc sẽ diễn ra trên biến filteredNews, không cần refetch query\n  };\n\n  const handleNewsCreated = () => {\n    queryClient.invalidateQueries('news'); // Vô hiệu hóa cache public news\n    queryClient.invalidateQueries('admin-news'); // Vô hiệu hóa cache admin news (nếu có liên quan)\n  };\n\n  if (error) {\n    return (\n      <div className=\"container mx-auto px-4 py-8\">\n        <div className=\"text-center text-red-600\">\n          <p>Error loading news. Please try again later.</p>\n          <p>Details: {error.message}</p>\n        </div>\n      </div>\n    );\n  }\n\n  const featuredNews = filteredNews?.[0];\n  const otherNews = filteredNews?.slice(1) || [];\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <div className=\"bg-white shadow-sm\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"text-center flex-1\">\n              <h1 className=\"text-4xl font-bold text-gray-900 mb-4\">Sports News</h1>\n              <p className=\"text-xl text-gray-600 max-w-2xl mx-auto\">\n                Stay updated with the latest sports news, tournament updates, and community highlights\n              </p>\n            </div>\n            {isAdmin && (\n              <div className=\"flex items-center space-x-3\">\n                <div className=\"flex items-center space-x-2 text-sm text-primary-600\">\n                  <Shield className=\"h-4 w-4\" />\n                  <span>Admin Access</span>\n                </div>\n                <button\n                  onClick={() => setShowCreateNewsModal(true)}\n                  className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700\"\n                >\n                  <Plus className=\"h-4 w-4 mr-2\" />\n                  Create News\n                </button>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Search Bar */}\n        <div className=\"bg-white rounded-lg shadow-sm p-6 mb-8\">\n          <form onSubmit={handleSearch} className=\"flex gap-4\">\n            <div className=\"flex-1\">\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5\" />\n                <input\n                  type=\"text\"\n                  placeholder=\"Search news articles...\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  className=\"pl-10 input-field\"\n                />\n              </div>\n            </div>\n            <button type=\"submit\" className=\"btn-primary\">\n              Search\n            </button>\n          </form>\n        </div>\n\n        {isLoading ? (\n          <LoadingSpinner />\n        ) : filteredNews?.length === 0 ? (\n          <div className=\"text-center py-12\">\n            <Calendar className=\"h-16 w-16 text-gray-400 mx-auto mb-4\" />\n            <h3 className=\"text-xl font-medium text-gray-900 mb-2\">No news articles found</h3>\n            <p className=\"text-gray-600\">Check back later for the latest sports updates</p>\n          </div>\n        ) : (\n          <div className=\"space-y-8\">\n            {/* Featured Article */}\n            {featuredNews && (\n              <div className=\"bg-white rounded-xl shadow-sm overflow-hidden\">\n                <div className=\"md:flex\">\n                  <div className=\"md:flex-shrink-0\">\n                    <div className=\"h-48 w-full md:w-64 bg-gradient-to-r from-primary-500 to-sports-purple flex items-center justify-center\">\n                      {featuredNews.attachments && featuredNews.attachments.length > 0 ? (\n                         <img\n                           src={newsService.getImageUrl(featuredNews.attachments[0].url)}\n                           alt={featuredNews.name}\n                           className=\"w-full h-full object-cover\"\n                           onError={(e) => { e.target.onerror = null; e.target.src = 'https://via.placeholder.com/400x200?text=No+Image'; }}\n                         />\n                       ) : (\n                         <Calendar className=\"h-16 w-16 text-white\" />\n                       )}\n                    </div>\n                  </div>\n                  <div className=\"p-8 flex-1\">\n                    <div className=\"flex items-center text-sm text-gray-500 mb-2\">\n                      <span className=\"bg-primary-100 text-primary-800 px-2 py-1 rounded-full text-xs font-medium mr-3\">\n                        Featured\n                      </span>\n                      <Calendar className=\"h-4 w-4 mr-1\" />\n                      <span>{formatDate(featuredNews.createdAt)}</span>\n                      <User className=\"h-4 w-4 ml-4 mr-1\" />\n                      <span>EduSports Team</span>\n                    </div>\n                    <h2 className=\"text-2xl font-bold text-gray-900 mb-3\">\n                      <Link\n                        to={`/news/${featuredNews.id}`}\n                        className=\"hover:text-primary-600 transition-colors\"\n                      >\n                        {featuredNews.name}\n                      </Link>\n                    </h2>\n                    <p className=\"text-gray-600 mb-4 text-lg leading-relaxed\">\n                      {truncateText(featuredNews.content, 200)}\n                    </p>\n                    <Link\n                      to={`/news/${featuredNews.id}`}\n                      className=\"inline-flex items-center text-primary-600 hover:text-primary-700 font-medium\"\n                    >\n                      Read full article\n                      <ArrowRight className=\"h-4 w-4 ml-1\" />\n                    </Link>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Other Articles Grid */}\n            {otherNews.length > 0 && (\n              <div>\n                <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">More Articles</h2>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                  {otherNews.map((article) => (\n                    <article key={article.id} className=\"card hover:shadow-lg transition-shadow duration-300\">\n                      <div className=\"bg-gradient-to-r from-sports-green to-sports-pink h-40 rounded-lg mb-4 flex items-center justify-center\">\n                        {article.attachments && article.attachments.length > 0 ? (\n                           <img\n                             src={newsService.getImageUrl(article.attachments[0].url)}\n                             alt={article.name}\n                             className=\"w-full h-full object-cover rounded-lg\"\n                             onError={(e) => { e.target.onerror = null; e.target.src = 'https://via.placeholder.com/400x200?text=No+Image'; }}\n                           />\n                         ) : (\n                           <Calendar className=\"h-12 w-12 text-white\" />\n                         )}\n                      </div>\n\n                      <div className=\"flex items-center text-sm text-gray-500 mb-2\">\n                        <Calendar className=\"h-4 w-4 mr-1\" />\n                        <span>{formatDate(article.createdAt)}</span>\n                        <User className=\"h-4 w-4 ml-4 mr-1\" />\n                        <span>EduSports Team</span>\n                      </div>\n\n                      <h3 className=\"text-lg font-semibold text-gray-900 mb-2 line-clamp-2\">\n                        <Link\n                          to={`/news/${article.id}`}\n                          className=\"hover:text-primary-600 transition-colors\"\n                        >\n                          {article.name}\n                        </Link>\n                      </h3>\n\n                      <p className=\"text-gray-600 mb-4 line-clamp-3\">\n                        {truncateText(article.content, 120)}\n                      </p>\n\n                      <div className=\"flex items-center justify-between\">\n                        <Link\n                          to={`/news/${article.id}`}\n                          className=\"text-primary-600 hover:text-primary-700 font-medium text-sm inline-flex items-center\"\n                        >\n                          Read more\n                          <ArrowRight className=\"h-3 w-3 ml-1\" />\n                        </Link>\n                        <div className=\"flex items-center text-sm text-gray-500\">\n                          <Eye className=\"h-4 w-4 mr-1\" />\n                          <span>0 views</span>\n                        </div>\n                      </div>\n                    </article>\n                  ))}\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* Load More Button */}\n        {filteredNews && filteredNews.length >= 10 && ( // Có thể cần logic phức tạp hơn cho \"Load More\" nếu bạn không phân trang\n          <div className=\"text-center mt-12\">\n            <button className=\"btn-secondary\">\n              Load More Articles\n            </button>\n          </div>\n        )}\n      </div>\n\n      {/* Render the CreateNewsModal */}\n      <CreateNewsModal\n        show={showCreateNewsModal}\n        onClose={() => setShowCreateNewsModal(false)}\n        onNewsCreated={handleNewsCreated}\n      />\n    </div>\n  );\n};\n\nexport default NewsPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}