{"ast":null,"code":"var _jsxFileName = \"/Users/lucas/Desktop/an/fe-edu/src/components/admin/TeamManagement.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useQuery, useMutation, useQueryClient } from 'react-query';\nimport { Plus, Edit, Trash2, Eye, Search, Filter, Users } from 'lucide-react';\nimport LoadingSpinner from '../LoadingSpinner';\nimport Modal from '../Modal'; // Giả sử bạn có một component Modal chung\nimport { teamService } from '../../services'; // Chúng ta sẽ tạo service này\nimport toast from 'react-hot-toast';\nimport { formatDate } from '../../utils/helpers'; // Nếu cần định dạng ngày tháng\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TeamManagement = () => {\n  _s();\n  const queryClient = useQueryClient();\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [modalMode, setModalMode] = useState('add'); // 'add' or 'edit'\n  const [selectedTeam, setSelectedTeam] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterTournamentId, setFilterTournamentId] = useState(''); // Thêm state cho lọc theo giải đấu\n\n  // Fetch all teams\n  const {\n    data: teams,\n    isLoading,\n    isError,\n    error\n  } = useQuery(['teams', filterTournamentId],\n  // Thêm filterTournamentId vào key để re-fetch khi thay đổi\n  () => filterTournamentId ? teamService.getTeamsByTournament(filterTournamentId) : teamService.getAllTeams(), {\n    staleTime: 60 * 1000,\n    // 1 phút\n    onError: err => {\n      toast.error(`Error fetching teams: ${err.message}`);\n    }\n  });\n\n  // Fetch tournaments for the filter dropdown\n  const {\n    data: tournaments,\n    isLoading: tournamentsLoading\n  } = useQuery('tournaments', teamService.getAllTournamentsForDropdown,\n  // Giả sử có một API để lấy danh sách giải đấu\n  {\n    staleTime: Infinity // Tournaments don't change often\n  });\n\n  // Mutation for adding a team\n  const addTeamMutation = useMutation(teamService.addTeam, {\n    onSuccess: () => {\n      queryClient.invalidateQueries(['teams', filterTournamentId]); // Invalidate to refetch teams\n      toast.success('Team added successfully!');\n      setIsModalOpen(false);\n    },\n    onError: err => {\n      toast.error(`Error adding team: ${err.message}`);\n    }\n  });\n\n  // Mutation for updating a team\n  const updateTeamMutation = useMutation(teamService.updateTeam, {\n    onSuccess: () => {\n      queryClient.invalidateQueries(['teams', filterTournamentId]); // Invalidate to refetch teams\n      toast.success('Team updated successfully!');\n      setIsModalOpen(false);\n    },\n    onError: err => {\n      toast.error(`Error updating team: ${err.message}`);\n    }\n  });\n\n  // Mutation for deleting a team\n  const deleteTeamMutation = useMutation(teamService.deleteTeam, {\n    onSuccess: () => {\n      queryClient.invalidateQueries(['teams', filterTournamentId]); // Invalidate to refetch teams\n      toast.success('Team deleted successfully!');\n    },\n    onError: err => {\n      toast.error(`Error deleting team: ${err.message}`);\n    }\n  });\n  const handleAddTeam = () => {\n    setModalMode('add');\n    setSelectedTeam(null);\n    setIsModalOpen(true);\n  };\n  const handleEditTeam = team => {\n    setModalMode('edit');\n    setSelectedTeam(team);\n    setIsModalOpen(true);\n  };\n  const handleDeleteTeam = teamId => {\n    if (window.confirm('Are you sure you want to delete this team?')) {\n      deleteTeamMutation.mutate(teamId);\n    }\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    const formData = new FormData(e.target);\n    const data = Object.fromEntries(formData.entries());\n    if (modalMode === 'add') {\n      // For adding, we might need a tournament ID if it's not selected via filter\n      if (!data.tournamentId) {\n        toast.error('Tournament ID is required for adding a team.');\n        return;\n      }\n      addTeamMutation.mutate(data);\n    } else {\n      // edit mode\n      updateTeamMutation.mutate({\n        teamId: selectedTeam.id,\n        ...data\n      });\n    }\n  };\n  const filteredTeams = teams === null || teams === void 0 ? void 0 : teams.filter(team => team.name.toLowerCase().includes(searchTerm.toLowerCase()) || team.description.toLowerCase().includes(searchTerm.toLowerCase()));\n  if (isLoading || tournamentsLoading) {\n    return /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n      text: \"Loading teams...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 12\n    }, this);\n  }\n  if (isError) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-red-600\",\n      children: [\"Error: \", error.message]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 bg-white rounded-lg shadow-sm\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold text-gray-800 mb-6 flex items-center\",\n      children: [/*#__PURE__*/_jsxDEV(Users, {\n        className: \"w-6 h-6 mr-2 text-primary-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this), \" Team Management\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-6 flex-wrap gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative\",\n          children: [/*#__PURE__*/_jsxDEV(Search, {\n            className: \"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Search teams...\",\n            className: \"pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500\",\n            value: searchTerm,\n            onChange: e => setSearchTerm(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative\",\n          children: [/*#__PURE__*/_jsxDEV(Filter, {\n            className: \"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            className: \"pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500\",\n            value: filterTournamentId,\n            onChange: e => setFilterTournamentId(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"All Tournaments\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 15\n            }, this), tournaments === null || tournaments === void 0 ? void 0 : tournaments.map(tourney => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: tourney.id,\n              children: tourney.name\n            }, tourney.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleAddTeam,\n        className: \"flex items-center px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500\",\n        children: [/*#__PURE__*/_jsxDEV(Plus, {\n          className: \"w-5 h-5 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this), \" Add New Team\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"overflow-x-auto bg-gray-50 rounded-lg border border-gray-200 shadow-sm\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"min-w-full divide-y divide-gray-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          className: \"bg-gray-100\",\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n              children: \"ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n              children: \"Team Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n              children: \"Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n              children: \"Tournament\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n              children: \"Created At\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              className: \"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\",\n              children: \"Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          className: \"bg-white divide-y divide-gray-200\",\n          children: filteredTeams && filteredTeams.length > 0 ? filteredTeams.map(team => /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"hover:bg-gray-50 transition-colors\",\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",\n              children: team.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\",\n              children: team.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-600\",\n              children: team.description || 'N/A'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-600\",\n              children: [team.tournamentName || 'N/A', \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-600\",\n              children: formatDate(team.createdAt)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-end space-x-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleEditTeam(team),\n                  className: \"text-primary-600 hover:text-primary-900 p-2 rounded-full hover:bg-gray-200 transition-colors\",\n                  title: \"Edit Team\",\n                  children: /*#__PURE__*/_jsxDEV(Edit, {\n                    className: \"w-5 h-5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 212,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleDeleteTeam(team.id),\n                  className: \"text-red-600 hover:text-red-900 p-2 rounded-full hover:bg-gray-200 transition-colors\",\n                  title: \"Delete Team\",\n                  children: /*#__PURE__*/_jsxDEV(Trash2, {\n                    className: \"w-5 h-5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 219,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  // onClick={() => handleViewTeamDetail(team.id)}\n                  className: \"text-blue-600 hover:text-blue-900 p-2 rounded-full hover:bg-gray-200 transition-colors\",\n                  title: \"View Team Details\",\n                  children: /*#__PURE__*/_jsxDEV(Eye, {\n                    className: \"w-5 h-5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 227,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 19\n            }, this)]\n          }, team.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 17\n          }, this)) : /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              colSpan: \"6\",\n              className: \"px-6 py-4 text-center text-gray-500\",\n              children: \"No teams found.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: isModalOpen,\n      onClose: () => setIsModalOpen(false),\n      title: modalMode === 'add' ? 'Add New Team' : 'Edit Team',\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"name\",\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"Team Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"name\",\n            name: \"name\",\n            defaultValue: (selectedTeam === null || selectedTeam === void 0 ? void 0 : selectedTeam.name) || '',\n            required: true,\n            className: \"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"description\",\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            id: \"description\",\n            name: \"description\",\n            rows: \"3\",\n            defaultValue: (selectedTeam === null || selectedTeam === void 0 ? void 0 : selectedTeam.description) || '',\n            className: \"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this), modalMode === 'add' && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"tournamentId\",\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"Assign to Tournament\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"tournamentId\",\n            name: \"tournamentId\",\n            required: true,\n            className: \"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select a Tournament\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 17\n            }, this), tournaments === null || tournaments === void 0 ? void 0 : tournaments.map(tourney => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: tourney.id,\n              children: tourney.name\n            }, tourney.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => setIsModalOpen(false),\n            className: \"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"px-4 py-2 bg-primary-600 text-white rounded-md shadow-sm text-sm font-medium hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\",\n            disabled: addTeamMutation.isLoading || updateTeamMutation.isLoading,\n            children: addTeamMutation.isLoading || updateTeamMutation.isLoading ? 'Saving...' : modalMode === 'add' ? 'Add Team' : 'Update Team'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 123,\n    columnNumber: 5\n  }, this);\n};\n_s(TeamManagement, \"9+yMJaXZR/ZqSF5wCsV+dQ8Q6Lg=\", false, function () {\n  return [useQueryClient, useQuery, useQuery, useMutation, useMutation, useMutation];\n});\n_c = TeamManagement;\nexport default TeamManagement;\nvar _c;\n$RefreshReg$(_c, \"TeamManagement\");","map":{"version":3,"names":["React","useState","useQuery","useMutation","useQueryClient","Plus","Edit","Trash2","Eye","Search","Filter","Users","LoadingSpinner","Modal","teamService","toast","formatDate","jsxDEV","_jsxDEV","TeamManagement","_s","queryClient","isModalOpen","setIsModalOpen","modalMode","setModalMode","selectedTeam","setSelectedTeam","searchTerm","setSearchTerm","filterTournamentId","setFilterTournamentId","data","teams","isLoading","isError","error","getTeamsByTournament","getAllTeams","staleTime","onError","err","message","tournaments","tournamentsLoading","getAllTournamentsForDropdown","Infinity","addTeamMutation","addTeam","onSuccess","invalidateQueries","success","updateTeamMutation","updateTeam","deleteTeamMutation","deleteTeam","handleAddTeam","handleEditTeam","team","handleDeleteTeam","teamId","window","confirm","mutate","handleSubmit","e","preventDefault","formData","FormData","target","Object","fromEntries","entries","tournamentId","id","filteredTeams","filter","name","toLowerCase","includes","description","text","fileName","_jsxFileName","lineNumber","columnNumber","className","children","type","placeholder","value","onChange","map","tourney","onClick","scope","length","tournamentName","createdAt","title","colSpan","isOpen","onClose","onSubmit","htmlFor","defaultValue","required","rows","disabled","_c","$RefreshReg$"],"sources":["/Users/lucas/Desktop/an/fe-edu/src/components/admin/TeamManagement.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useQuery, useMutation, useQueryClient } from 'react-query';\nimport { Plus, Edit, Trash2, Eye, Search, Filter, Users } from 'lucide-react';\nimport LoadingSpinner from '../LoadingSpinner';\nimport Modal from '../Modal'; // Giả sử bạn có một component Modal chung\nimport { teamService } from '../../services'; // Chúng ta sẽ tạo service này\nimport toast from 'react-hot-toast';\nimport { formatDate } from '../../utils/helpers'; // Nếu cần định dạng ngày tháng\n\nconst TeamManagement = () => {\n  const queryClient = useQueryClient();\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [modalMode, setModalMode] = useState('add'); // 'add' or 'edit'\n  const [selectedTeam, setSelectedTeam] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterTournamentId, setFilterTournamentId] = useState(''); // Thêm state cho lọc theo giải đấu\n\n  // Fetch all teams\n  const { data: teams, isLoading, isError, error } = useQuery(\n    ['teams', filterTournamentId], // Thêm filterTournamentId vào key để re-fetch khi thay đổi\n    () => filterTournamentId ? teamService.getTeamsByTournament(filterTournamentId) : teamService.getAllTeams(),\n    {\n      staleTime: 60 * 1000, // 1 phút\n      onError: (err) => {\n        toast.error(`Error fetching teams: ${err.message}`);\n      }\n    }\n  );\n\n  // Fetch tournaments for the filter dropdown\n  const { data: tournaments, isLoading: tournamentsLoading } = useQuery(\n    'tournaments',\n    teamService.getAllTournamentsForDropdown, // Giả sử có một API để lấy danh sách giải đấu\n    {\n      staleTime: Infinity, // Tournaments don't change often\n    }\n  );\n\n  // Mutation for adding a team\n  const addTeamMutation = useMutation(teamService.addTeam, {\n    onSuccess: () => {\n      queryClient.invalidateQueries(['teams', filterTournamentId]); // Invalidate to refetch teams\n      toast.success('Team added successfully!');\n      setIsModalOpen(false);\n    },\n    onError: (err) => {\n      toast.error(`Error adding team: ${err.message}`);\n    },\n  });\n\n  // Mutation for updating a team\n  const updateTeamMutation = useMutation(teamService.updateTeam, {\n    onSuccess: () => {\n      queryClient.invalidateQueries(['teams', filterTournamentId]); // Invalidate to refetch teams\n      toast.success('Team updated successfully!');\n      setIsModalOpen(false);\n    },\n    onError: (err) => {\n      toast.error(`Error updating team: ${err.message}`);\n    },\n  });\n\n  // Mutation for deleting a team\n  const deleteTeamMutation = useMutation(teamService.deleteTeam, {\n    onSuccess: () => {\n      queryClient.invalidateQueries(['teams', filterTournamentId]); // Invalidate to refetch teams\n      toast.success('Team deleted successfully!');\n    },\n    onError: (err) => {\n      toast.error(`Error deleting team: ${err.message}`);\n    },\n  });\n\n  const handleAddTeam = () => {\n    setModalMode('add');\n    setSelectedTeam(null);\n    setIsModalOpen(true);\n  };\n\n  const handleEditTeam = (team) => {\n    setModalMode('edit');\n    setSelectedTeam(team);\n    setIsModalOpen(true);\n  };\n\n  const handleDeleteTeam = (teamId) => {\n    if (window.confirm('Are you sure you want to delete this team?')) {\n      deleteTeamMutation.mutate(teamId);\n    }\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const formData = new FormData(e.target);\n    const data = Object.fromEntries(formData.entries());\n\n    if (modalMode === 'add') {\n      // For adding, we might need a tournament ID if it's not selected via filter\n      if (!data.tournamentId) {\n        toast.error('Tournament ID is required for adding a team.');\n        return;\n      }\n      addTeamMutation.mutate(data);\n    } else { // edit mode\n      updateTeamMutation.mutate({ teamId: selectedTeam.id, ...data });\n    }\n  };\n\n  const filteredTeams = teams?.filter(team =>\n    team.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    team.description.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  if (isLoading || tournamentsLoading) {\n    return <LoadingSpinner text=\"Loading teams...\" />;\n  }\n\n  if (isError) {\n    return <div className=\"text-red-600\">Error: {error.message}</div>;\n  }\n\n  return (\n    <div className=\"p-6 bg-white rounded-lg shadow-sm\">\n      <h2 className=\"text-2xl font-bold text-gray-800 mb-6 flex items-center\">\n        <Users className=\"w-6 h-6 mr-2 text-primary-500\" /> Team Management\n      </h2>\n\n      <div className=\"flex justify-between items-center mb-6 flex-wrap gap-4\">\n        <div className=\"flex items-center space-x-4\">\n          <div className=\"relative\">\n            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5\" />\n            <input\n              type=\"text\"\n              placeholder=\"Search teams...\"\n              className=\"pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n            />\n          </div>\n          <div className=\"relative\">\n            <Filter className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5\" />\n            <select\n              className=\"pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500\"\n              value={filterTournamentId}\n              onChange={(e) => setFilterTournamentId(e.target.value)}\n            >\n              <option value=\"\">All Tournaments</option>\n              {tournaments?.map(tourney => (\n                <option key={tourney.id} value={tourney.id}>{tourney.name}</option>\n              ))}\n            </select>\n          </div>\n        </div>\n        <button\n          onClick={handleAddTeam}\n          className=\"flex items-center px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500\"\n        >\n          <Plus className=\"w-5 h-5 mr-2\" /> Add New Team\n        </button>\n      </div>\n\n      <div className=\"overflow-x-auto bg-gray-50 rounded-lg border border-gray-200 shadow-sm\">\n        <table className=\"min-w-full divide-y divide-gray-200\">\n          <thead className=\"bg-gray-100\">\n            <tr>\n              <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                ID\n              </th>\n              <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Team Name\n              </th>\n              <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Description\n              </th>\n              <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Tournament\n              </th>\n              <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Created At\n              </th>\n              <th scope=\"col\" className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Actions\n              </th>\n            </tr>\n          </thead>\n          <tbody className=\"bg-white divide-y divide-gray-200\">\n            {filteredTeams && filteredTeams.length > 0 ? (\n              filteredTeams.map((team) => (\n                <tr key={team.id} className=\"hover:bg-gray-50 transition-colors\">\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                    {team.id}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n                    {team.name}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-600\">\n                    {team.description || 'N/A'}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-600\">\n                    {team.tournamentName || 'N/A'} {/* Giả sử team object có tournamentName */}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-600\">\n                    {formatDate(team.createdAt)}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                    <div className=\"flex justify-end space-x-2\">\n                      <button\n                        onClick={() => handleEditTeam(team)}\n                        className=\"text-primary-600 hover:text-primary-900 p-2 rounded-full hover:bg-gray-200 transition-colors\"\n                        title=\"Edit Team\"\n                      >\n                        <Edit className=\"w-5 h-5\" />\n                      </button>\n                      <button\n                        onClick={() => handleDeleteTeam(team.id)}\n                        className=\"text-red-600 hover:text-red-900 p-2 rounded-full hover:bg-gray-200 transition-colors\"\n                        title=\"Delete Team\"\n                      >\n                        <Trash2 className=\"w-5 h-5\" />\n                      </button>\n                      {/* You can add a view detail button here */}\n                      <button\n                        // onClick={() => handleViewTeamDetail(team.id)}\n                        className=\"text-blue-600 hover:text-blue-900 p-2 rounded-full hover:bg-gray-200 transition-colors\"\n                        title=\"View Team Details\"\n                      >\n                        <Eye className=\"w-5 h-5\" />\n                      </button>\n                    </div>\n                  </td>\n                </tr>\n              ))\n            ) : (\n              <tr>\n                <td colSpan=\"6\" className=\"px-6 py-4 text-center text-gray-500\">\n                  No teams found.\n                </td>\n              </tr>\n            )}\n          </tbody>\n        </table>\n      </div>\n\n      {/* Team Add/Edit Modal */}\n      <Modal isOpen={isModalOpen} onClose={() => setIsModalOpen(false)} title={modalMode === 'add' ? 'Add New Team' : 'Edit Team'}>\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <div>\n            <label htmlFor=\"name\" className=\"block text-sm font-medium text-gray-700\">Team Name</label>\n            <input\n              type=\"text\"\n              id=\"name\"\n              name=\"name\"\n              defaultValue={selectedTeam?.name || ''}\n              required\n              className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm\"\n            />\n          </div>\n          <div>\n            <label htmlFor=\"description\" className=\"block text-sm font-medium text-gray-700\">Description</label>\n            <textarea\n              id=\"description\"\n              name=\"description\"\n              rows=\"3\"\n              defaultValue={selectedTeam?.description || ''}\n              className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm\"\n            ></textarea>\n          </div>\n          {modalMode === 'add' && (\n            <div>\n              <label htmlFor=\"tournamentId\" className=\"block text-sm font-medium text-gray-700\">Assign to Tournament</label>\n              <select\n                id=\"tournamentId\"\n                name=\"tournamentId\"\n                required\n                className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm\"\n              >\n                <option value=\"\">Select a Tournament</option>\n                {tournaments?.map(tourney => (\n                  <option key={tourney.id} value={tourney.id}>{tourney.name}</option>\n                ))}\n              </select>\n            </div>\n          )}\n          <div className=\"flex justify-end space-x-3\">\n            <button\n              type=\"button\"\n              onClick={() => setIsModalOpen(false)}\n              className=\"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\n            >\n              Cancel\n            </button>\n            <button\n              type=\"submit\"\n              className=\"px-4 py-2 bg-primary-600 text-white rounded-md shadow-sm text-sm font-medium hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\n              disabled={addTeamMutation.isLoading || updateTeamMutation.isLoading}\n            >\n              {addTeamMutation.isLoading || updateTeamMutation.isLoading ? 'Saving...' : (modalMode === 'add' ? 'Add Team' : 'Update Team')}\n            </button>\n          </div>\n        </form>\n      </Modal>\n    </div>\n  );\n};\n\nexport default TeamManagement;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}